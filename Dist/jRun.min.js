var jRun={version:"1.0.17",plugins:[],allowedInitTypes:["css","js"],urlPrefix:"",defaultType:"js",defaultLoadProperties:{waitLoading:!0,kind:!1,url:"",attributes:{},multiFileUrl:!1,afterLoad:function(){},beforeLoad:function(){},errorLoading:function(){}},notAllowedUserAttributes:["href","src"],loadedFiles:[],debugMode:!0,allowInit:!1,sanitizeName:function(e){return e.replace(/\/|\.|-/g,"_")},setLoadedFlag:function(e){this.loadedFiles.push(e)},checkLoad:function(e){return this.loadedFiles.indexOf(e)>-1},deepExtend:function(e){e=e||{};for(var n=1;n<arguments.length;n++){var t=arguments[n];if(t&&"object"==typeof t)for(var i in t)t.hasOwnProperty(i)&&("object"==typeof t[i]?e[i]=jRun.deepExtend(e[i],t[i]):e[i]=t[i])}return e},build:function(){return window.log=function(e,n){n=n||"log";var t=(new Error).stack.toString().split(/\r\n|\n/);console[n](e,"          ["+t[1]+"]")},this.firstCall=!0,this.plugins.length>0?this.buildPlugIns():this.allowInit=!0,this},buildPlugIns:function(){this.allowInit=!1,this.init(this.plugins,function(){jRun.allowInit=!0})},init:function(e,n){if(!jRun.allowInit&&!jRun.firstCall)return setTimeout(function(){jRun.init(e,n)},100),!1;jRun.firstCall=!1;var t=0,i=function(i){if(i.multiFileUrl||t++,i.afterLoad(),e.length===t){if(void 0===n||"function"!=typeof n){var r=(new Error).stack.toString().split(/\r\n|\n/);throw"CallBack should be a function "+typeof n+" given!          ["+r[1]+"]"}jRun.debugMode&&log("...... Start All Callback ......"),n()}},r=function(e){if(jRun.debugMode&&""===e.url)throw"File url is empty ["+(new Error).stack.toString().split(/\r\n|\n/)[1]+"]";var n=jRun.sanitizeName(e.url);if(jRun.checkLoad(n))return jRun.debugMode&&(log(n+" : Was already added !"),log(jRun.loadedFiles)),i(e),!1;jRun.setLoadedFlag(n);var t=e.kind?e.kind+"/":"",r=e.url.split(".").pop();jRun.allowedInitTypes.indexOf(r)<0&&(r=jRun.defaultType);var l,o,u=document.createElement("js"===r?"script":"link"),d=t+(l=e.url,o="."+r,null!==l&&null!==o&&-1!==l.indexOf(o,l.length-o.length)?e.url:e.url+"."+r);e.beforeLoad(),"js"===r?u.src=jRun.urlPrefix+"Javascript/"+d+"?jVer="+jRun.version:(u.type="text/css",u.rel="stylesheet",u.href=jRun.urlPrefix+"Css/"+d+"?jVer="+jRun.version),jRun.notAllowedUserAttributes.forEach(function(n){delete e.attributes[n]}),(u=jRun.deepExtend(u,e.attributes)).onload=function(){jRun.debugMode&&log("Loaded -> "+e.multiFileUrl+" -> "+e.url),i(e)},u.onerror=function(){e.errorLoading(),jRun.debugMode&&log("Error loading -> "+e.multiFileUrl+" -> "+e.url)},document.head.appendChild(u)};(e="string"==typeof e?[e]:e).forEach(function(e){var n={};n=jRun.deepExtend({},jRun.defaultLoadProperties,e),"string"==typeof e&&(n.url=e,n.kind="Utility"),Array.isArray(n.url)?n.url.forEach(function(e,t){n.multiFileUrl=1!==t,n.url=e,r(n)}):r(n)})}}.build();"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=jRun);